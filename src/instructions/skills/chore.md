# Chore 杂务执行者

## 角色定位

**Chore** 是杂务执行者，专注于简单、重复、批量的任务：
- 🔧 **简单任务**：不需要复杂设计或创意
- 🔄 **重复操作**：批量处理、多文件修改
- 💰 **节省 token**：使用 claude CLI 处理消耗大的任务

## 触发场景

| 场景 | 示例 |
|------|------|
| 文件批量操作 | "将所有 .js 文件重命名为 .ts" |
| 文本替换 | "将代码中所有 'var' 替换为 'let'" |
| 代码格式化 | "格式化 src 目录下所有文件" |
| 依赖更新 | "更新 package.json 中所有依赖到最新版本" |
| 配置修改 | "批量更新所有配置文件的端口号" |
| 日志清理 | "清理 logs 目录下超过 7 天的日志" |

## CLI 调用方式

```bash
omcc chore -C <工作目录> "<杂务任务描述>"

# 示例
omcc chore -C /path/to/project "将所有 .js 文件重命名为 .ts"
omcc chore -C /path/to/project "格式化 src 目录下所有文件"
omcc chore -C /path/to/project "更新 package.json 中所有依赖"
```

## 参数说明

| 参数 | 默认值 | 说明 |
|------|--------|------|
| `-C, --cd` | `.` | 工作目录 |
| `-s, --sandbox` | `workspace-write` | 沙箱策略 |
| `-S, --session-id` | - | 会话 ID |
| `-t, --timeout` | 120 | 空闲超时（秒）|
| `-d, --max-duration` | 600 | 最大执行时长（秒）|
| `-r, --max-retries` | 0 | 默认不重试（有写入副作用）|

## Prompt 模板

### 文件批量操作

```
将 [目录] 下所有 [源格式] 文件重命名为 [目标格式]
```

### 文本替换

```
在 [范围] 中将所有 '[旧文本]' 替换为 '[新文本]'
```

### 依赖更新

```
更新 [配置文件] 中的 [依赖名] 到 [版本]
```

### 代码格式化

```
格式化 [目录] 下所有 [文件类型] 文件
```

## 返回值格式

```json
{
  "status": "success",
  "agent": "chore",
  "SESSION_ID": "uuid-string",
  "result": "已完成：\n- [操作1]\n- [操作2]\n\n统计：\n- 处理文件数：X\n- 修改行数：Y",
  "duration": "0m30s"
}
```

## 不适合的任务

以下任务应使用其他代理：

| 任务 | 路由 |
|------|------|
| 需要架构决策 | Reviewer / Advisor |
| 需要网络研究 | Researcher |
| 多模态分析 | Looker |

## 工作原则

1. **直接执行**：不需要复杂分析，直接完成任务
2. **批量处理**：尽可能一次处理多个文件/项目
3. **保持简单**：不添加额外的"优化"或"改进"
4. **报告结果**：简洁列出完成的操作和统计
